<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê°•ì˜ ë·°ì–´ - MCSELLER</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        body { font-family: 'Noto Sans KR', sans-serif; }
        .sidebar { 
            position: fixed; left: 0; top: 0; height: 100vh; width: 300px; 
            background: #f8f9fa; border-right: 1px solid #dee2e6; z-index: 1000;
            transition: transform 0.3s ease; overflow-y: auto;
        }
        .sidebar.hidden { transform: translateX(-300px); }
        .content { margin-left: 300px; padding: 20px; transition: margin-left 0.3s ease; }
        .content.expanded { margin-left: 0; }
        .video-container { position: relative; width: 100%; height: 0; padding-bottom: 56.25%; margin-bottom: 20px; }
        .video-container iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }
        .lesson-description { background: #f8f9fa; padding: 20px; border-radius: 8px; }
        .lesson-item { padding: 12px 15px; cursor: pointer; border-bottom: 1px solid #eee; }
        .lesson-item:hover { background: #e9ecef; }
        .lesson-item.active { background: #007bff; color: white; }
        .lesson-item.completed { background: #28a745; color: white; }
        .toggle-btn { position: fixed; top: 70px; left: 310px; z-index: 1001; transition: left 0.3s ease; }
        .toggle-btn.expanded { left: 10px; }
        .progress-indicator { font-size: 12px; margin-left: auto; }
    </style>
</head>
<body>
    <!-- ì‚¬ì´ë“œë°” -->
    <div class="sidebar" id="sidebar">
        <div class="p-3 border-bottom">
            <h5><i class="fas fa-play-circle me-2"></i>ê°•ì˜ ëª©ì°¨</h5>
            <button class="btn btn-sm btn-outline-secondary" onclick="toggleSidebar()">
                <i class="fas fa-times"></i> ìˆ¨ê¸°ê¸°
            </button>
        </div>
        <div id="lesson-list">
            <!-- ê°•ì˜ ëª©ë¡ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
        </div>
        <div class="p-3 border-top">
            <small class="text-muted">
                <i class="fas fa-info-circle me-1"></i>
                ì§„í–‰ë¥ : <span id="progress-text">0%</span>
            </small>
            <div class="progress mt-2" style="height: 5px;">
                <div class="progress-bar" id="progress-bar" style="width: 0%"></div>
            </div>
        </div>
    </div>

    <!-- ì‚¬ì´ë“œë°” í† ê¸€ ë²„íŠ¼ -->
    <button class="btn btn-primary toggle-btn" id="toggleBtn" onclick="toggleSidebar()" style="display: none;">
        <i class="fas fa-bars"></i>
    </button>

    <!-- ìƒë‹¨ ë„¤ë¹„ê²Œì´ì…˜ -->
    <nav class="navbar navbar-dark bg-dark">
        <div class="container-fluid">
            <a class="navbar-brand" href="mypage.html">
                <i class="fas fa-arrow-left me-2"></i>ë§ˆì´í˜ì´ì§€ë¡œ ëŒì•„ê°€ê¸°
            </a>
            <div class="d-flex gap-2">
                <span class="navbar-text" id="course-title">ê°•ì˜ ì œëª©</span>
                <button class="btn btn-outline-light btn-sm" onclick="logout()">ë¡œê·¸ì•„ì›ƒ</button>
            </div>
        </div>
    </nav>

    <!-- ë©”ì¸ ì½˜í…ì¸  -->
    <div class="content" id="content">
        <div id="lesson-content">
            <!-- í˜„ì¬ ê°•ì˜ ë‚´ìš©ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // í…ŒìŠ¤íŠ¸ìš© ê°•ì˜ ë°ì´í„°
        const courseData = {
            'ai-master': {
                title: "AI ë§ˆìŠ¤í„° ì‹¤ì „ ê³¼ì •",
                lessons: [
                    {
                        id: "lesson1",
                        title: "1ê°•. AI ì‹œëŒ€ì˜ ë¹„ì¦ˆë‹ˆìŠ¤ ì´í•´",
                        videoId: "dQw4w9WgXcQ", // í…ŒìŠ¤íŠ¸ìš© YouTube ID
                        description: `
                            <h3>1ê°•. AI ì‹œëŒ€ì˜ ë¹„ì¦ˆë‹ˆìŠ¤ ì´í•´</h3>
                            <p>ì´ë²ˆ ê°•ì˜ì—ì„œëŠ” AIê°€ ë¹„ì¦ˆë‹ˆìŠ¤ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ê³¼ ê¸°íšŒì— ëŒ€í•´ í•™ìŠµí•©ë‹ˆë‹¤.</p>
                            
                            <h4>í•µì‹¬ ë‚´ìš©</h4>
                            <ul>
                                <li>AI ê¸°ìˆ ì˜ í˜„ì¬ì™€ ë¯¸ë˜</li>
                                <li>ë¹„ì¦ˆë‹ˆìŠ¤ ëª¨ë¸ì˜ ë³€í™”</li>
                                <li>AI ë„êµ¬ í™œìš© ì „ëµ</li>
                                <li>ê²½ìŸ ìš°ìœ„ í™•ë³´ ë°©ë²•</li>
                            </ul>
                            
                            <h4>ì‹¤ìŠµ ê³¼ì œ</h4>
                            <p>ìì‹ ì˜ ë¹„ì¦ˆë‹ˆìŠ¤ ë¶„ì•¼ì—ì„œ AIë¥¼ ì–´ë–»ê²Œ í™œìš©í•  ìˆ˜ ìˆëŠ”ì§€ 3ê°€ì§€ ì•„ì´ë””ì–´ë¥¼ ì‘ì„±í•´ë³´ì„¸ìš”.</p>
                            
                            <div class="alert alert-info">
                                <i class="fas fa-lightbulb me-2"></i>
                                <strong>TIP:</strong> ì´ë²ˆ ê°•ì˜ ë‚´ìš©ì„ ë°”íƒ•ìœ¼ë¡œ ë‹¤ìŒ ê°•ì˜ì—ì„œ ì‹¤ì œ AI ë„êµ¬ë¥¼ ì‚¬ìš©í•´ë³´ê² ìŠµë‹ˆë‹¤.
                            </div>
                        `,
                        completed: false
                    },
                    {
                        id: "lesson2",
                        title: "2ê°•. ChatGPT í™œìš© ì „ëµ",
                        videoId: "dQw4w9WgXcQ",
                        description: `
                            <h3>2ê°•. ChatGPT í™œìš© ì „ëµ</h3>
                            <p>ChatGPTë¥¼ ë¹„ì¦ˆë‹ˆìŠ¤ì— íš¨ê³¼ì ìœ¼ë¡œ í™œìš©í•˜ëŠ” ë°©ë²•ì„ ë°°ì›ë‹ˆë‹¤.</p>
                            
                            <h4>í•™ìŠµ ëª©í‘œ</h4>
                            <ul>
                                <li>íš¨ê³¼ì ì¸ í”„ë¡¬í”„íŠ¸ ì‘ì„±ë²•</li>
                                <li>ì—…ë¬´ ìë™í™” ë°©ë²•</li>
                                <li>ì½˜í…ì¸  ì œì‘ í™œìš©</li>
                                <li>ê³ ê° ì„œë¹„ìŠ¤ ê°œì„ </li>
                            </ul>
                            
                            <h4>ì‹¤ë¬´ ì ìš© ì‚¬ë¡€</h4>
                            <ol>
                                <li><strong>ë§ˆì¼€íŒ…:</strong> ê´‘ê³  ë¬¸êµ¬ ë° ì½˜í…ì¸  ì•„ì´ë””ì–´ ìƒì„±</li>
                                <li><strong>ê³ ê°ì„œë¹„ìŠ¤:</strong> FAQ ìë™ ë‹µë³€ ì‹œìŠ¤í…œ</li>
                                <li><strong>ê¸°íš:</strong> ë¹„ì¦ˆë‹ˆìŠ¤ ì•„ì´ë””ì–´ ë¸Œë ˆì¸ìŠ¤í† ë°</li>
                            </ol>
                            
                            <div class="alert alert-warning">
                                <i class="fas fa-exclamation-triangle me-2"></i>
                                <strong>ì£¼ì˜:</strong> AI ë„êµ¬ ì‚¬ìš©ì‹œ ê°œì¸ì •ë³´ ë³´í˜¸ì— ì£¼ì˜í•˜ì„¸ìš”.
                            </div>
                        `,
                        completed: false
                    },
                    {
                        id: "lesson3",
                        title: "3ê°•. ì´ë¯¸ì§€ ìƒì„± AI í™œìš©ë²•",
                        videoId: "dQw4w9WgXcQ",
                        description: `
                            <h3>3ê°•. ì´ë¯¸ì§€ ìƒì„± AI í™œìš©ë²•</h3>
                            <p>Midjourney, DALL-E ë“±ì„ í™œìš©í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ì´ë¯¸ì§€ ì œì‘ ë°©ë²•ì„ ë°°ì›ë‹ˆë‹¤.</p>
                            
                            <h4>ë‹¤ë£° ë‚´ìš©</h4>
                            <ul>
                                <li>ì£¼ìš” ì´ë¯¸ì§€ ìƒì„± AI ì†Œê°œ</li>
                                <li>íš¨ê³¼ì ì¸ í”„ë¡¬í”„íŠ¸ ì‘ì„±</li>
                                <li>ìƒì—…ì  í™œìš© ê°€ëŠ¥ ì´ë¯¸ì§€ ì œì‘</li>
                                <li>ë¸Œëœë”©ì— í™œìš©í•˜ëŠ” ë°©ë²•</li>
                            </ul>
                            
                            <h4>ì‹¤ìŠµ ì˜ˆì œ</h4>
                            <p>ë‹¤ìŒê³¼ ê°™ì€ ì´ë¯¸ì§€ë“¤ì„ ì§ì ‘ ìƒì„±í•´ë³´ê² ìŠµë‹ˆë‹¤:</p>
                            <ul>
                                <li>ë¡œê³  ë””ìì¸</li>
                                <li>ì†Œì…œë¯¸ë””ì–´ í¬ìŠ¤íŠ¸ ì´ë¯¸ì§€</li>
                                <li>ì œí’ˆ ëª¨í¬ì—…</li>
                                <li>ì›¹ì‚¬ì´íŠ¸ ë°°ë„ˆ</li>
                            </ul>
                        `,
                        completed: false
                    },
                    {
                        id: "lesson4",
                        title: "4ê°•. AI ìë™í™” ì‹œìŠ¤í…œ êµ¬ì¶•",
                        videoId: "dQw4w9WgXcQ",
                        description: `
                            <h3>4ê°•. AI ìë™í™” ì‹œìŠ¤í…œ êµ¬ì¶•</h3>
                            <p>Zapier, Make.com ë“±ì„ í™œìš©í•´ AI ê¸°ë°˜ ìë™í™” ì›Œí¬í”Œë¡œìš°ë¥¼ ë§Œë“¤ì–´ë´…ë‹ˆë‹¤.</p>
                            
                            <h4>ìë™í™” ê°€ëŠ¥í•œ ì—…ë¬´</h4>
                            <ul>
                                <li>ì´ë©”ì¼ ìë™ ë¶„ë¥˜ ë° ë‹µë³€</li>
                                <li>ì†Œì…œë¯¸ë””ì–´ í¬ìŠ¤íŒ… ìë™í™”</li>
                                <li>ê³ ê° ë°ì´í„° ë¶„ì„ ë° ë¦¬í¬íŠ¸ ìƒì„±</li>
                                <li>ì½˜í…ì¸  íë ˆì´ì…˜</li>
                            </ul>
                            
                            <h4>êµ¬ì¶• ë‹¨ê³„</h4>
                            <ol>
                                <li>ì›Œí¬í”Œë¡œìš° ì„¤ê³„</li>
                                <li>API ì—°ê²° ì„¤ì •</li>
                                <li>ìë™í™” ê·œì¹™ ì •ì˜</li>
                                <li>í…ŒìŠ¤íŠ¸ ë° ìµœì í™”</li>
                            </ol>
                            
                            <div class="alert alert-success">
                                <i class="fas fa-check-circle me-2"></i>
                                <strong>ìˆ˜ë£Œ í›„:</strong> ì´ ê³¼ì •ì„ ì™„ë£Œí•˜ë©´ ì‹¤ì œ ë¹„ì¦ˆë‹ˆìŠ¤ì— ë°”ë¡œ ì ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤!
                            </div>
                        `,
                        completed: false
                    }
                ]
            }
        };

        let currentCourse = null;
        let currentLessonIndex = 0;
        let sidebarVisible = true;

        // í˜ì´ì§€ ë¡œë“œì‹œ ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', function() {
            checkAccess();
            loadCourse();
        });

        function checkAccess() {
            // ë¡œê·¸ì¸ í™•ì¸
            const testUser = localStorage.getItem('testUser');
            if (!testUser) {
                alert('ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.');
                window.location.href = 'auth.html';
                return;
            }
        }

        function loadCourse() {
            const urlParams = new URLSearchParams(window.location.search);
            const courseId = urlParams.get('id');
            
            if (!courseId || !courseData[courseId]) {
                alert('ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê°•ì˜ì…ë‹ˆë‹¤.');
                window.location.href = 'mypage.html';
                return;
            }

            currentCourse = courseData[courseId];
            document.getElementById('course-title').textContent = currentCourse.title;
            
            generateLessonList();
            loadLesson(0);
            updateProgress();
        }

        function generateLessonList() {
            const listContainer = document.getElementById('lesson-list');
            listContainer.innerHTML = '';

            currentCourse.lessons.forEach((lesson, index) => {
                const lessonItem = document.createElement('div');
                lessonItem.className = 'lesson-item d-flex align-items-center';
                lessonItem.innerHTML = `
                    <div>
                        <i class="fas fa-play-circle me-2"></i>
                        ${lesson.title}
                    </div>
                    <div class="progress-indicator">
                        ${lesson.completed ? '<i class="fas fa-check text-success"></i>' : '<i class="fas fa-clock text-muted"></i>'}
                    </div>
                `;
                lessonItem.onclick = () => loadLesson(index);
                lessonItem.setAttribute('data-lesson', index);
                
                if (lesson.completed) {
                    lessonItem.classList.add('completed');
                }
                
                listContainer.appendChild(lessonItem);
            });
        }

        function loadLesson(lessonIndex) {
            if (lessonIndex < 0 || lessonIndex >= currentCourse.lessons.length) return;

            currentLessonIndex = lessonIndex;
            const lesson = currentCourse.lessons[lessonIndex];

            // í™œì„± ê°•ì˜ ì—…ë°ì´íŠ¸
            document.querySelectorAll('.lesson-item').forEach(item => {
                item.classList.remove('active');
            });
            document.querySelector(`[data-lesson="${lessonIndex}"]`).classList.add('active');

            // ê°•ì˜ ë‚´ìš© í‘œì‹œ
            const contentDiv = document.getElementById('lesson-content');
            contentDiv.innerHTML = `
                <div class="video-container">
                    <iframe 
                        src="https://www.youtube.com/embed/${lesson.videoId}?autoplay=0&rel=0" 
                        frameborder="0" 
                        allowfullscreen
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture">
                    </iframe>
                </div>
                <div class="lesson-description">
                    ${lesson.description}
                </div>
                <div class="d-flex justify-content-between mt-4">
                    <button class="btn btn-outline-secondary" onclick="loadLesson(${lessonIndex - 1})" ${lessonIndex === 0 ? 'disabled' : ''}>
                        <i class="fas fa-chevron-left me-2"></i>ì´ì „ ê°•ì˜
                    </button>
                    <button class="btn btn-success" onclick="markCompleted(${lessonIndex})">
                        <i class="fas fa-check me-2"></i>ì™„ë£Œ í‘œì‹œ
                    </button>
                    <button class="btn btn-primary" onclick="loadLesson(${lessonIndex + 1})" ${lessonIndex === currentCourse.lessons.length - 1 ? 'disabled' : ''}>
                        ë‹¤ìŒ ê°•ì˜<i class="fas fa-chevron-right ms-2"></i>
                    </button>
                </div>
            `;

            // ìŠ¤í¬ë¡¤ ë§¨ ìœ„ë¡œ
            window.scrollTo(0, 0);
        }

        function markCompleted(lessonIndex) {
            currentCourse.lessons[lessonIndex].completed = true;
            generateLessonList();
            updateProgress();
            
            // ë‹¤ìŒ ê°•ì˜ë¡œ ìë™ ì´ë™ (ë§ˆì§€ë§‰ ê°•ì˜ê°€ ì•„ë‹Œ ê²½ìš°)
            if (lessonIndex < currentCourse.lessons.length - 1) {
                setTimeout(() => {
                    loadLesson(lessonIndex + 1);
                }, 1000);
            } else {
                alert('ğŸ‰ ì¶•í•˜í•©ë‹ˆë‹¤! ëª¨ë“  ê°•ì˜ë¥¼ ì™„ë£Œí•˜ì…¨ìŠµë‹ˆë‹¤!');
            }
        }

        function updateProgress() {
            const completedLessons = currentCourse.lessons.filter(lesson => lesson.completed).length;
            const totalLessons = currentCourse.lessons.length;
            const progressPercent = Math.round((completedLessons / totalLessons) * 100);
            
            document.getElementById('progress-text').textContent = `${progressPercent}%`;
            document.getElementById('progress-bar').style.width = `${progressPercent}%`;
        }

        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const content = document.getElementById('content');
            const toggleBtn = document.getElementById('toggleBtn');

            sidebarVisible = !sidebarVisible;

            if (sidebarVisible) {
                sidebar.classList.remove('hidden');
                content.classList.remove('expanded');
                toggleBtn.classList.remove('expanded');
                toggleBtn.style.display = 'none';
            } else {
                sidebar.classList.add('hidden');
                content.classList.add('expanded');
                toggleBtn.classList.add('expanded');
                toggleBtn.style.display = 'block';
            }
        }

        function logout() {
            if (localStorage.getItem('testUser')) {
                localStorage.removeItem('testUser');
            }
            window.location.href = 'index.html';
        }
    </script>
</body>
</html>